<div class="booking-page">
  <h2>ბილეთის დაჯავშნა</h2>

  <div *ngIf="trainData">
    <h3>{{ trainData.name }} - მატარებლის დეტალები</h3>
    <p>მატარებლის ნომერი: {{ trainData.train_number }}</p>
    <p>მატარებლის ტიპი: {{ trainData.type }}</p>
  </div>

  <div *ngIf="vagonData">
    <h3>ვაგონი: {{ vagonData.name }}</h3>
    <div class="seat-selection">
      <h4>აირჩიეთ ადგილი</h4>
      <div class="seats">
        <div *ngFor="let seat of vagonData.seats" class="seat" 
             [class.selected]="seat === selectedSeat"
             [class.unavailable]="seat.status === 'unavailable'"
             (click)="selectSeat(seat)">
          <span>{{ seat.seat_number }}</span>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="selectedSeat">
    <h4>თქვენი არჩეული ადგილი: {{ selectedSeat.seat_number }}</h4>
  </div>

  <div>
    <label for="passenger-name">მგზავრის სახელი:</label>
    <input type="text" id="passenger-name" [(ngModel)]="passengerName" placeholder="მგზავრის სახელი" />

    <button class="book-button" (click)="bookTicket()" [disabled]="!passengerName || !selectedSeat">
      ბილეთის დაჯავშნა
    </button>
  </div>

  <div *ngIf="ticketStatus">
    <p class="ticket-status">{{ ticketStatus }}</p>
  </div>
</div>
